# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 1: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ SLI/SLO –¥–ª—è —É—á–µ–±–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞

## üéØ –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã

–ù–∞ –¥–µ–π—Å—Ç–≤—É—é—â–µ–º —Å—Ç–µ–Ω–¥–µ:
- –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å **–¥–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏**: –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å p95 –∏ error ratio
- –ò–∑–º–µ—Ä–∏—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π **baseline** –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π
- –§–æ—Ä–º–∞–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å **SLI** (Service Level Indicators)
- –í—ã–±—Ä–∞—Ç—å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ **SLO** (Service Level Objectives) –Ω–∞ 30-–¥–Ω–µ–≤–Ω—ã–π –ø–µ—Ä–∏–æ–¥
- –í—ã—á–∏—Å–ª–∏—Ç—å **error budget** (–±—é–¥–∂–µ—Ç –æ—à–∏–±–æ–∫)

## üìã –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è –≤ –∏—Ç–æ–≥–µ ("–∑–∞—á—Ç–µ–Ω–æ")

### ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:

1. **2 –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö SLI**:
   - Latency p95 (HTTP request duration)
   - Error ratio (–æ—à–∏–±–æ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã / –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã)

2. **–ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**:
   - –ú–∏–Ω–∏–º—É–º 1 –∑–∞–ø—É—Å–∫ k6 ‚â•10 –º–∏–Ω—É—Ç
   - –°—Ç–∞–±–∏–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ ‚â•100 RPS
   - –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏—Ç–æ–≥–æ–≤—ã–π count –∑–∞–ø—Ä–æ—Å–æ–≤

3. **Baseline –º–µ—Ç—Ä–∏–∫–∏**:
   - –ß–∏—Å–ª–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è p50/p95/p99 
   - –û–±—â–∏–π error ratio (–æ—Ç–¥–µ–ª—å–Ω–æ 5xx –æ—à–∏–±–∫–∏)
   - 4xx –∏—Å–∫–ª—é—á–µ–Ω—ã (–∫—Ä–æ–º–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö 429/503)

4. **–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ SLO**:
   - **P95 Latency**: –Ω–µ –±–æ–ª–µ–µ baseline + 40%
   - **Error Ratio**: ‚â§0.5% –ò –Ω–µ –∂—ë—Å—Ç—á–µ baseline √ó 5

5. **–†–∞—Å—á–µ—Ç error budget**:
   - 30-–¥–Ω–µ–≤–Ω—ã–π –ø–µ—Ä–∏–æ–¥
   - –ß–∏—Å–ª–æ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –æ—à–∏–±–æ—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
   - –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç –≤ –º–∏–Ω—É—Ç–∞—Ö –Ω–∞—Ä—É—à–µ–Ω–∏–π

6. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** (SLO.md):
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è SLI —Å PromQL —Ñ–æ—Ä–º—É–ª–∞–º–∏
   - –¶–µ–ª–µ–≤—ã–µ SLO –∏ –∏—Ö –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ
   - Baseline –∑–Ω–∞—á–µ–Ω–∏—è
   - –†–∞—Å—á–µ—Ç error budget —Å —Ñ–æ—Ä–º—É–ª–∞–º–∏

7. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤ Grafana**:
   - –ì—Ä–∞—Ñ–∏–∫ p95 —Å –ª–∏–Ω–∏–µ–π SLO
   - –ì—Ä–∞—Ñ–∏–∫ error ratio —Å –ª–∏–Ω–∏–µ–π SLO
   - –°–∫—Ä–∏–Ω—à–æ—Ç –∏–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç JSON

8. **–ü–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–π**:
   - –£—Å—Ç–Ω–æ –æ–±—ä—è—Å–Ω–∏—Ç—å —Ä–∞–∑–ª–∏—á–∏–µ availability vs latency SLO

---

## üõ† –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ä–∞–±–æ—Ç–µ

**‚ö†Ô∏è –í–ê–ñ–ù–û**: –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –≤—ã–ø–æ–ª–Ω–∏–ª–∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É:
- –í—ã–ø–æ–ª–Ω–∏–ª–∏ `./scripts/setup-macos.sh` (—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤)
- –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ: `./scripts/check-environment.sh` ‚úÖ 
- Docker Desktop –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –®–∞–≥ 0: –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥—ã
```
üë• –†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Ä–æ–ª–∏:
- –í–æ–¥–∏—Ç–µ–ª—å (—Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º)
- –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å (—Å–ª–µ–¥–∏—Ç –∑–∞ –º–µ—Ç—Ä–∏–∫–∞–º–∏ –≤ Grafana)
- –ê–Ω–∞–ª–∏—Ç–∏–∫ (–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —á–∏—Å–ª–∞ –∏ —Ä–∞—Å—á–µ—Ç—ã)
- –°–ø–∏–∫–µ—Ä (–≥–æ—Ç–æ–≤–∏—Ç —É—Å—Ç–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è)
```

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–µ–Ω–¥–∞

**1.1 –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Ç–µ—Ä –∏ —Ä–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã:**
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ k3d –∫–ª–∞—Å—Ç–µ—Ä–∞ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
./scripts/setup-cluster.sh

# –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 2-3 –º–∏–Ω—É—Ç—ã)
# –°–∫—Ä–∏–ø—Ç —Å–∞–º –ø—Ä–æ–≤–µ—Ä–∏—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –ø–æ–¥–æ–≤
```

**1.2 –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–æ–≤ (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Å—Ç–∞—Ç—É—Å–µ Running)
kubectl get pods -n lab1

# –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥ - –≤—Å–µ –ø–æ–¥—ã Running:
# - orders-api-xxx
# - prometheus-xxx  
# - grafana-xxx
# - jaeger-xxx
# - otel-collector-xxx
```

**üö® –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É "connection refused":**
- –ö–ª–∞—Å—Ç–µ—Ä –Ω–µ —Å–æ–∑–¥–∞–Ω, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –∏–∑ –ø—É–Ω–∫—Ç–∞ 1.1
- –ò–ª–∏ –∫–ª–∞—Å—Ç–µ—Ä –µ—â–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –ø–æ–¥–æ–∂–¥–∏—Ç–µ 30-60 —Å–µ–∫—É–Ω–¥

```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ port forwarding (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ —Ñ–æ–Ω–µ)
kubectl port-forward -n lab1 svc/orders-api 8080:80 &
kubectl port-forward -n lab1 svc/grafana 3000:3000 &
kubectl port-forward -n lab1 svc/prometheus 9090:9090 &

# –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-10 —Å–µ–∫—É–Ω–¥, –ø–æ–∫–∞ forwarding —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞
curl -w "%{http_code}\n" -s http://localhost:8080/health
# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: 200

# üí° –ï—Å–ª–∏ –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
# - –ü–æ–¥–æ–∂–¥–∏—Ç–µ –µ—â–µ 10-15 —Å–µ–∫—É–Ω–¥ (–ø–æ–¥—ã –º–æ–≥—É—Ç –µ—â–µ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è)
# - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –ø–æ–¥–æ–≤: kubectl get pods -n lab1
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –º–µ—Ç—Ä–∏–∫
curl -s http://localhost:8080/metrics | grep http_request_duration_seconds_bucket | head -5

# –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å—Ç—Ä–æ–∫–∏ —Ç–∏–ø–∞:
# http_request_duration_seconds_bucket{method="GET",route="/api/orders",code="200",le="0.005"} 0
```

---

## üìä –ü–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### –®–∞–≥ 3: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ PromQL —Ñ–æ—Ä–º—É–ª

**üìù –ó–∞–¥–∞—á–∞**: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å PromQL –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –≤–∞—à–∏—Ö SLI

#### 3.1 P95 Latency (–ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å 95-–≥–æ –ø—Ä–æ—Ü–µ–Ω—Ç–∏–ª—è)
```promql
# –§–æ—Ä–º—É–ª–∞ –¥–ª—è p95 –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ (—É—Å–ø–µ—à–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã 2xx/3xx)
histogram_quantile(0.95,
  sum by (le) (
    rate(http_request_duration_seconds_bucket{code=~"2..|3.."}[5m])
  )
)
```

#### 3.2 Error Ratio (—á–∞—Å—Ç–æ—Ç–∞ –æ—à–∏–±–æ–∫)
```promql
# –í–∞—Ä–∏–∞–Ω—Ç 1: –í—Å–µ –æ—à–∏–±–∫–∏ 5xx / –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã
(
  sum(rate(http_requests_received_total{code=~"5.."}[5m]))
  /
  sum(rate(http_requests_received_total{code=~"2..|3..|4..|5.."}[5m]))
)

# –í–∞—Ä–∏–∞–Ω—Ç 2: –¢–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –æ—à–∏–±–∫–∏ / —É—Å–ø–µ—à–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
(
  sum(rate(http_requests_received_total{code=~"5.."}[5m]))
  /
  sum(rate(http_requests_received_total{code=~"2..|3.."}[5m]))
)
```

**ü§î –û–±—Å—É–¥–∏—Ç–µ –≤ –∫–æ–º–∞–Ω–¥–µ**: –ö–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –≤—ã–±—Ä–∞—Ç—å –∏ –ø–æ—á–µ–º—É?
- –í–∫–ª—é—á–∞—Ç—å –ª–∏ 4xx –æ—à–∏–±–∫–∏ –≤ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å?
- –ê—Ä–≥—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Ä–µ—à–µ–Ω–∏–µ (–∑–∞–ø–∏—Å–∞—Ç—å –≤ SLO.md)

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º—É–ª –≤ Prometheus

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:9090
2. –í—Å—Ç–∞–≤—å—Ç–µ –∫–∞–∂–¥—É—é —Ñ–æ—Ä–º—É–ª—É –≤ Query
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–ø—Ä–æ—Å—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —á–∏—Å–ª–∞ (–Ω–µ NaN)
4. –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã

### –®–∞–≥ 5: –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**üìù –ó–∞–¥–∞—á–∞**: –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å baseline

```bash
# –ó–∞–ø—É—Å–∫ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ (100 RPS, 10 –º–∏–Ω—É—Ç)
K6_RPS=100 k6 run scripts/load.js

# –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ (—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ k6_summary.txt):
# http_reqs......................: 60147   97.239862/s
# http_req_duration..............: avg=42.31ms min=10.12ms med=28.34ms max=587.23ms p(90)=65.43ms p(95)=87.21ms
```

**‚ö†Ô∏è –í–∞–∂–Ω–æ**:
- –î–æ–∂–¥–∏—Ç–µ—Å—å —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç—Ä–∏–∫ (–ø–µ—Ä–≤—ã–µ 2-3 –º–∏–Ω—É—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–º–∏)
- –°–ª–µ–¥–∏—Ç–µ –∑–∞ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç—å—é –Ω–∞–≥—Ä—É–∑–∫–∏ (–±–µ–∑ –≤—Å–ø–ª–µ—Å–∫–æ–≤)
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –Ω–∞–±–ª—é–¥–∞–π—Ç–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ Grafana

### –®–∞–≥ 6: –°–±–æ—Ä baseline –¥–∞–Ω–Ω—ã—Ö

**üìù –ó–∞–¥–∞—á–∞**: –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –º–∏–Ω—É—Ç —Ç–µ—Å—Ç–∞

#### 6.1 –í Grafana —Å–æ–∑–¥–∞–π—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏:
1. –ì—Ä–∞—Ñ–∏–∫ —Å –≤–∞—à–µ–π PromQL —Ñ–æ—Ä–º—É–ª–æ–π –¥–ª—è p95
2. –ì—Ä–∞—Ñ–∏–∫ —Å —Ñ–æ—Ä–º—É–ª–æ–π –¥–ª—è error ratio
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –º–∏–Ω—É—Ç

#### 6.2 –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è:
```
üìä Baseline —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- p50 latency: ___ ms
- p95 latency: ___ ms  
- p99 latency: ___ ms
- Error ratio: ___% (–¥–µ—Å—è—Ç–∏—á–Ω–æ–µ: 0.___)
- –°—Ä–µ–¥–Ω–∏–π RPS –∏–∑ k6: ___
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤: ___
```

**üö® –ü—Ä–æ–≤–µ—Ä–∫–∞**: –ï—Å–ª–∏ error ratio ‚â•1%, –≤—ã—è—Å–Ω–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É!

### –®–∞–≥ 7: –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏

**üìù –ó–∞–¥–∞—á–∞**: –û—Ü–µ–Ω–∏—Ç—å –º–µ—Å—è—á–Ω—ã–π –æ–±—ä–µ–º –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è production

```
üìà –†–∞—Å—á–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏:

1. Observed RPS = ___ (–∏–∑ k6 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)

2. Scale Factor = ___ (–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç ‚â§5)
   –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ: ______________________

3. Production RPS = Observed RPS √ó Scale Factor = ___

4. Monthly Requests = Production RPS √ó 30 √ó 24 √ó 3600 = ___
```

**üí° –ü—Ä–∏–º–µ—Ä—ã –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏—è Scale Factor**:
- 2x = "—É—á–µ—Ç –ø–∏–∫–æ–≤—ã—Ö —á–∞—Å–æ–≤"
- 3x = "–æ–∂–∏–¥–∞–µ–º—ã–π —Ä–æ—Å—Ç + –ø–∏–∫–∏ + –∑–∞–ø–∞—Å"
- 5x = "–∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π —Ä–æ—Å—Ç –±–∏–∑–Ω–µ—Å–∞"

### –®–∞–≥ 8: –í—ã–±–æ—Ä SLO —Ü–µ–ª–µ–π

**üìù –ó–∞–¥–∞—á–∞**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ —Ü–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

#### 8.1 Latency SLO
```
üéØ P95 Latency SLO:

Baseline p95: ___ ms
Headroom: ___% (10-40%)
–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ headroom: ______________________

Target = Baseline √ó (1 + Headroom/100) = ___ ms

SLO: "p95 latency < ___ ms over rolling 30 days"
```

#### 8.2 Error Ratio SLO
```
üéØ Error Ratio SLO:

Baseline error ratio: ___%
–ú–∞–∫—Å–∏–º—É–º 5x —É–ª—É—á—à–µ–Ω–∏–µ: ___% 
–ú–∞–∫—Å–∏–º—É–º –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é: 0.5%

Target error ratio: ___% (‚â§ min(baseline√ó5, 0.5%))

SLO: "Error ratio ‚â§ ___% over rolling 30 days"
–∏–ª–∏
SLO: "Availability ‚â• ___% over rolling 30 days"
```

### –®–∞–≥ 9: –†–∞—Å—á–µ—Ç Error Budget

**üìù –ó–∞–¥–∞—á–∞**: –í—ã—á–∏—Å–ª–∏—Ç—å –¥–æ–ø—É—Å—Ç–∏–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫

```
üí∞ Error Budget —Ä–∞—Å—á–µ—Ç:

1. Monthly Requests = ___ (–∏–∑ —à–∞–≥–∞ 7)
2. Target Error Ratio = ___% = 0.___

3. Error Budget (requests) = Monthly Requests √ó Target Error Ratio = ___ –∑–∞–ø—Ä–æ—Å–æ–≤

4. –î–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ –≤ –º–∏–Ω—É—Ç—ã –ø—Ä–æ—Å—Ç–æ—è:
   Average RPS = Production RPS = ___
   Average requests per minute = Average RPS √ó 60 = ___
   
5. Allowed Downtime = Error Budget / Requests per minute = ___ –º–∏–Ω—É—Ç

–ò—Ç–æ–≥–æ: ___ –æ—à–∏–±–æ—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –ò–õ–ò ___ –º–∏–Ω—É—Ç –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç–æ—è –≤ –º–µ—Å—è—Ü
```

---

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –®–∞–≥ 10: –°–æ–∑–¥–∞–Ω–∏–µ SLO.md

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `SLO.md` —Å–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:

```markdown
# SLO –¥–ª—è Orders API

## –ö–æ–Ω—Ç–µ–∫—Å—Ç
[1-2 –∞–±–∑–∞—Ü–∞: —á—Ç–æ —ç—Ç–æ –∑–∞ —Å–µ—Ä–≤–∏—Å, –∫–∞–∫—É—é –Ω–∞–≥—Ä—É–∑–∫—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏]

## Service Level Indicators (SLI)

### 1. Request Latency (p95)
**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**: 95-–π –ø—Ä–æ—Ü–µ–Ω—Ç–∏–ª—å –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞ –¥–ª—è —É—Å–ø–µ—à–Ω—ã—Ö HTTP –∑–∞–ø—Ä–æ—Å–æ–≤

**PromQL**:
```promql
[–≤–∞—à–∞ —Ñ–æ—Ä–º—É–ª–∞]
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: [–ø–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ p95, –ø–æ—á–µ–º—É –∏—Å–∫–ª—é—á–∏–ª–∏ 4xx]

### 2. Error Rate
**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**: –û—Ç–Ω–æ—à–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –æ—à–∏–±–æ–∫ –∫ –æ–±—â–µ–º—É —á–∏—Å–ª—É –∑–∞–ø—Ä–æ—Å–æ–≤

**PromQL**:
```promql
[–≤–∞—à–∞ —Ñ–æ—Ä–º—É–ª–∞]
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: [–ø–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–∞—è —Ñ–æ—Ä–º—É–ª–∞]

## Baseline Performance
–ù–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ ___ RPS –≤ —Ç–µ—á–µ–Ω–∏–µ ___ –º–∏–Ω—É—Ç:

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| p50 Latency | ___ ms |
| p95 Latency | ___ ms |
| p99 Latency | ___ ms |
| Error Rate | ___% |

## Service Level Objectives (SLO)

### Latency SLO
**–¶–µ–ª—å**: p95 latency < ___ ms over rolling 30 days

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: 
- Baseline: ___ ms
- Headroom: ___% –¥–ª—è [–ø—Ä–∏—á–∏–Ω–∞]
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç [–±–∏–∑–Ω–µ—Å-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ]

### Availability SLO  
**–¶–µ–ª—å**: Error rate ‚â§ ___% (Availability ‚â• ___%) over rolling 30 days

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**:
- Baseline error rate: ___%
- –£–ª—É—á—à–µ–Ω–∏–µ –≤ ___x —Ä–∞–∑
- –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ –¥–ª—è [–ø—Ä–∏—á–∏–Ω–∞]

## Error Budget

**–ú–µ—Å—è—á–Ω—ã–π –æ–±—ä–µ–º –∑–∞–ø—Ä–æ—Å–æ–≤**: ___ (___RPS √ó 30 –¥–Ω–µ–π)
**–î–æ–ø—É—Å—Ç–∏–º—ã–µ –æ—à–∏–±–∫–∏**: ___ –∑–∞–ø—Ä–æ—Å–æ–≤ (___ –º–∏–Ω—É—Ç –ø—Ä–æ—Å—Ç–æ—è)

**–§–æ—Ä–º—É–ª–∞**:
Error Budget = Monthly Requests √ó Target Error Rate
= ___ √ó 0.___ = ___ –∑–∞–ø—Ä–æ—Å–æ–≤

## –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
[–¢–µ–∫—É—â–∞—è –¥–∞—Ç–∞]
```

### –®–∞–≥ 11: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤ Grafana

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000 (admin/lab1pass)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –¥–∞—à–±–æ—Ä–¥ "SLO Monitoring"
3. –î–æ–±–∞–≤—å—Ç–µ –ø–∞–Ω–µ–ª–∏:

**–ü–∞–Ω–µ–ª—å 1: P95 Latency**
- Query: –≤–∞—à–∞ —Ñ–æ—Ä–º—É–ª–∞ –¥–ª—è p95 √ó 1000 (–¥–ª—è –º—Å)
- –î–æ–±–∞–≤—å—Ç–µ Threshold (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ª–∏–Ω–∏—è) = –≤–∞—à SLO target
- –¶–≤–µ—Ç –ª–∏–Ω–∏–∏ SLO: –∫—Ä–∞—Å–Ω—ã–π

**–ü–∞–Ω–µ–ª—å 2: Error Rate**  
- Query: –≤–∞—à–∞ —Ñ–æ—Ä–º—É–ª–∞ –¥–ª—è error rate
- –î–æ–±–∞–≤—å—Ç–µ Threshold = –≤–∞—à SLO target
- –¶–≤–µ—Ç –ª–∏–Ω–∏–∏ SLO: –∫—Ä–∞—Å–Ω—ã–π

4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –¥–∞—à–±–æ—Ä–¥
5. –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç –∏–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ JSON

---

## üöÄ –°–¥–∞—á–∞ —Ä–∞–±–æ—Ç—ã

### –®–∞–≥ 12: –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è

1. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª—ã**:
   ```bash
   ls -la
   # –î–æ–ª–∂–Ω—ã –±—ã—Ç—å:
   # SLO.md
   # k6_summary.txt (–∏–ª–∏ —á–∏—Å–ª–∞ –≤ SLO.md)
   # slo_dashboard.png (—Å–∫—Ä–∏–Ω—à–æ—Ç)
   # grafana/slo_dashboard.json (—ç–∫—Å–ø–æ—Ä—Ç)
   ```

2. **Commit –∏ push**:
   ```bash
   git add SLO.md k6_summary.txt slo_dashboard.png grafana/slo_dashboard.json
   git commit -m "Lab1: initial SLI+SLO baseline
   
   - p95 latency SLI: ___ms baseline, ___ms target
   - Error rate SLI: ___% baseline, ___% target  
   - Error budget: ___ requests/month
   - Tested at ___RPS for ___min"
   
   git push origin main
   ```

3. **–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ —É—Å—Ç–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ** (‚â§1 –º–∏–Ω):
   - –ü–æ—á–µ–º—É –≤—ã–±—Ä–∞–ª–∏ –∏–º–µ–Ω–Ω–æ —ç—Ç–∏ —á–∏—Å–ª–∞ –¥–ª—è SLO?
   - –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É availability –∏ latency SLO?
   - –ö–æ–≥–¥–∞ –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å SLO?

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏

### –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –ø—Ä–æ–≤–µ—Ä–∏—Ç:

- [ ] **SLO.md** —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Ä–∞–∑–¥–µ–ª—ã —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —á–∏—Å–ª–∞–º–∏
- [ ] **PromQL —Ñ–æ—Ä–º—É–ª—ã** –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ Prometheus –±–µ–∑ –æ—à–∏–±–æ–∫  
- [ ] **Grafana –ø–∞–Ω–µ–ª—å** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ —Å –ª–∏–Ω–∏—è–º–∏ SLO
- [ ] **P95 SLO** –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ: [baseline, baseline√ó1.4]
- [ ] **Error rate SLO** ‚â§0.5% –∏ ‚â•baseline  
- [ ] **Error budget** —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (—á–∏—Å–ª–æ + —Ñ–æ—Ä–º—É–ª–∞)
- [ ] **–ö–æ–º–∞–Ω–¥–∞ –ø–æ–Ω–∏–º–∞–µ—Ç** —Ä–∞–∑–Ω–∏—Ü—É availability vs latency
- [ ] **Git commit** –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω
- [ ] **–ë–æ—Ç "–ü–æ–∂–∞—Ä–Ω—ã–π"** –ø–æ–ª—É—á–∏–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

---

## üö® –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: P95 –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ –ø—Ä—ã–≥–∞–µ—Ç
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–∫–Ω–æ 5m –≤–º–µ—Å—Ç–æ 1m –≤ rate()

### –ü—Ä–æ–±–ª–µ–º–∞: Error ratio –≤—Å–µ–≥–¥–∞ 0
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–≥—É–ª—è—Ä–∫—É code, –≤–æ–∑–º–æ–∂–Ω–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫ 5xx

### –ü—Ä–æ–±–ª–µ–º–∞: –°–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–π p95 –≤ –Ω–∞—á–∞–ª–µ —Ç–µ—Å—Ç–∞  
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–∫–ª—é—á–∏—Ç–µ –ø–µ—Ä–≤—ã–µ 2-3 –º–∏–Ω—É—Ç—ã (–ø—Ä–æ–≥—Ä–µ–≤)

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ –∂–µ—Å—Ç–∫–∏–π SLO
**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤—å—Ç–µ headroom 10-30% –∫ baseline

### –ü—Ä–æ–±–ª–µ–º–∞: PromQL –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ—á–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –º–µ—Ç—Ä–∏–∫ —á–µ—Ä–µ–∑ curl

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Ä–∞—Å—á–µ—Ç error budget
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω RPS –≤–æ –≤—Å–µ—Ö —Ñ–æ—Ä–º—É–ª–∞—Ö

---

## üèÜ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è (–ø–æ –∂–µ–ª–∞–Ω–∏—é)

1. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –º–∞—Ä—à—Ä—É—Ç–∞–º**: 
   - –ü–æ—Å—á–∏—Ç–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω–æ latency –¥–ª—è read/write –æ–ø–µ—Ä–∞—Ü–∏–π
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ label `route` –≤ PromQL

2. **Burn rate**:
   - –î–æ–±–∞–≤—å—Ç–µ —Ä–∞—Å—á–µ—Ç % –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–≥–æ error budget
   - –§–æ—Ä–º—É–ª–∞: `(—Ç–µ–∫—É—â–∏–µ –æ—à–∏–±–∫–∏ / error budget) √ó 100%`

3. **Assumptions —Ñ–∞–π–ª**:
   - –°–æ–∑–¥–∞–π—Ç–µ `assumptions.txt` —Å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏—è–º–∏ –≤—Å–µ—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤

---

## üìû –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–¥–æ–≤: `kubectl get pods -n lab1`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ port forwarding: `lsof -i :8080,:3000,:9090`
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏: `kubectl logs -n lab1 deployment/orders-api`
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—é —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã

**–£–¥–∞—á–∏! üçÄ** 